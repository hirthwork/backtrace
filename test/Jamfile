import testing ;

lib boost_unit_test_framework
    :
    : <threading>single
    ;

lib boost_unit_test_framework
    :
    : <name>boost_unit_test_framework-mt <threading>multi
    ;

lib boost_test_exec_monitor
    :
    : <threading>single
    ;

lib boost_test_exec_monitor
    :
    : <name>boost_test_exec_monitor-mt <threading>multi
    ;

alias boost_test : boost_unit_test_framework boost_test_exec_monitor ;

compile demangle-double-inclusion.cpp ;
run test-demangle.cpp ..//coverage boost_test ;

compile extract-double-inclusion.c ;
run test-extract.c ..//coverage ;

compile helpers-double-inclusion.cpp ;

compile backtrace-double-inclusion-c.c ;
compile backtrace-double-inclusion.cpp ;
run test-backtrace.cpp ..//coverage boost_test : <runtime-link>shared ;
run test-backtrace-c.c ..//coverage : <runtime-link>shared ;
#run test-backtrace-static.cpp ..//coverage boost_test : <runtime-link>static ;

compile record-double-inclusion-c.c ;
compile record-double-inclusion.cpp ;
run test-record.cpp ..//coverage boost_test ;

